{
  "openapi": "3.0.0",
  "info": {
    "title": "Cisco IOS-XE Native Config - Cryptography & PKI",
    "description": "Cryptographic configuration for Cisco-IOS-XE-native model. This container includes PKI, keyrings, IPsec, IKEv2, SSL, certificates, and encryption configurations.\n\n**What's included:** Complete crypto configuration hierarchy under /native/crypto\n\n**Common use cases:** VPN tunnels, certificate management, encryption policies, IKEv2 profiles, keyrings\n\n**Related:** See 'AAA' for authentication, 'IP' for NAT and routing",
    "version": "17.18.1",
    "contact": {
      "name": "Cisco IOS-XE RESTCONF API",
      "url": "https://developer.cisco.com/docs/ios-xe/"
    }
  },
  "servers": [
    {
      "url": "https://{device}:{port}",
      "description": "IOS-XE Device RESTCONF API",
      "variables": {
        "device": {
          "default": "router.example.com",
          "description": "Device IP or hostname"
        },
        "port": {
          "default": "443",
          "description": "HTTPS port"
        }
      }
    }
  ],
  "paths": {
    "/data/Cisco-IOS-XE-native:native/crypto": {
      "get": {
        "summary": "Get all crypto configuration",
        "description": "Retrieve entire cryptography configuration container",
        "operationId": "get-crypto-all",
        "tags": ["crypto-root"],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "Cisco-IOS-XE-native:crypto": {
                      "type": "object",
                      "description": "Complete cryptography configuration"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Replace crypto configuration",
        "description": "Replace entire crypto configuration",
        "operationId": "put-crypto-all",
        "tags": ["crypto-root"],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "Cisco-IOS-XE-native:crypto": {
                  "Cisco-IOS-XE-crypto:pki": {
                    "trustpoint": [
                      {
                        "id": "TP-SELF-SIGNED",
                        "enrollment": {
                          "selfsigned": [null]
                        }
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": { "description": "Successfully configured" }
        }
      },
      "patch": {
        "summary": "Update crypto configuration",
        "description": "Merge update to crypto configuration",
        "operationId": "patch-crypto-all",
        "tags": ["crypto-root"],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "Cisco-IOS-XE-native:crypto": {
                  "Cisco-IOS-XE-crypto:ikev2": {
                    "proposal": [
                      {
                        "name": "IKEv2-PROPOSAL",
                        "encryption": "aes-cbc-256",
                        "group": "14"
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": { "description": "Successfully updated" }
        }
      },
      "delete": {
        "summary": "Delete crypto configuration",
        "description": "Remove all crypto configuration (WARNING: breaks VPN tunnels)",
        "operationId": "delete-crypto-all",
        "tags": ["crypto-root"],
        "responses": {
          "204": { "description": "Successfully deleted" }
        }
      }
    },
    "/data/Cisco-IOS-XE-native:native/crypto/pki": {
      "get": {
        "summary": "Get PKI configuration",
        "description": "Retrieve PKI (Public Key Infrastructure) configuration",
        "operationId": "get-crypto-pki",
        "tags": ["pki"],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Configure PKI",
        "description": "Replace PKI configuration",
        "operationId": "put-crypto-pki",
        "tags": ["pki"],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "Cisco-IOS-XE-crypto:pki": {
                  "trustpoint": [
                    {
                      "id": "CA-SERVER",
                      "enrollment": {
                        "url": "http://ca.example.com:80"
                      },
                      "subject-name": "CN=router.example.com",
                      "revocation-check": "crl"
                    }
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "204": { "description": "Successfully configured" }
        }
      },
      "patch": {
        "summary": "Update PKI configuration",
        "description": "Merge update to PKI configuration",
        "operationId": "patch-crypto-pki",
        "tags": ["pki"],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "Cisco-IOS-XE-crypto:pki": {
                  "certificate": {
                    "chain": [
                      {
                        "name": "CA-SERVER"
                      }
                    ]
                  }
                }
              }
            }
          }
        },
              }
            }
          }
        },
        "responses": {
          "204": { "description": "Successfully updated" }
        }
      },
      "delete": {
        "summary": "Delete PKI configuration",
        "description": "Remove PKI configuration",
        "operationId": "delete-crypto-pki",
        "tags": ["pki"],
        "responses": {
          "204": { "description": "Successfully deleted" }
        }
      }
    },
    "/data/Cisco-IOS-XE-native:native/crypto/ikev2": {
      "get": {
        "summary": "Get IKEv2 configuration",
        "description": "Retrieve IKEv2 configuration",
        "operationId": "get-crypto-ikev2",
        "tags": ["vpn"],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Configure IKEv2",
        "description": "Replace IKEv2 configuration",
        "operationId": "put-crypto-ikev2",
        "tags": ["vpn"],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "Cisco-IOS-XE-crypto:ikev2": {
                  "proposal": [
                    {
                      "name": "IKEv2-PROPOSAL",
                      "encryption": "aes-cbc-256",
                      "group": "14",
                      "integrity": "sha256"
                    }
                  ],
                  "policy": [
                    {
                      "name": "IKEv2-POLICY",
                      "proposal": ["IKEv2-PROPOSAL"]
                    }
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "204": { "description": "Successfully configured" }
        }
      },
      "patch": {
        "summary": "Update IKEv2 configuration",
        "description": "Merge update to IKEv2 configuration",
        "operationId": "patch-crypto-ikev2",
        "tags": ["vpn"],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "Cisco-IOS-XE-crypto:ikev2": {
                  "keyring": [
                    {
                      "name": "KEYRING-1"
                    }
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "204": { "description": "Successfully updated" }
        }
      },
      "delete": {
        "summary": "Delete IKEv2 configuration",
        "description": "Remove IKEv2 configuration",
        "operationId": "delete-crypto-ikev2",
        "tags": ["vpn"],
        "responses": {
          "204": { "description": "Successfully deleted" }
        }
      }
    },
    "/data/Cisco-IOS-XE-native:native/crypto/ipsec": {
      "get": {
        "summary": "Get IPsec configuration",
        "description": "Retrieve IPsec configuration",
        "operationId": "get-crypto-ipsec",
        "tags": ["vpn"],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Configure IPsec",
        "description": "Replace IPsec configuration",
        "operationId": "put-crypto-ipsec",
        "tags": ["vpn"],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "Cisco-IOS-XE-crypto:ipsec": {
                  "transform-set": [
                    {
                      "tag": "IPSEC-TRANSFORM",
                      "esp": "esp-aes",
                      "esp-hmac": "esp-sha256-hmac"
                    }
                  ],
                  "profile": [
                    {
                      "name": "IPSEC-PROFILE",
                      "set": {
                        "transform-set": ["IPSEC-TRANSFORM"]
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "204": { "description": "Successfully configured" }
        }
      },
      "patch": {
        "summary": "Update IPsec configuration",
        "description": "Merge update to IPsec configuration",
        "operationId": "patch-crypto-ipsec",
        "tags": ["vpn"],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "Cisco-IOS-XE-crypto:ipsec": {
                  "security-association": {
                    "lifetime": {
                      "seconds": 3600
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": { "description": "Successfully updated" }
        }
      },
      "delete": {
        "summary": "Delete IPsec configuration",
        "description": "Remove IPsec configuration",
        "operationId": "delete-crypto-ipsec",
        "tags": ["vpn"],
        "responses": {
          "204": { "description": "Successfully deleted" }
        }
      }
    },
    "/data/Cisco-IOS-XE-native:native/crypto/keyring": {
      "get": {
        "summary": "Get keyring configuration",
        "description": "Retrieve cryptographic keyring configuration",
        "operationId": "get-crypto-keyring",
        "tags": ["keys"],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Configure keyring",
        "description": "Replace keyring configuration",
        "operationId": "put-crypto-keyring",
        "tags": ["keys"],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "Cisco-IOS-XE-crypto:keyring": [
                  {
                    "name": "VPN-KEYRING",
                    "pre-shared-key": [
                      {
                        "address": "0.0.0.0",
                        "mask": "0.0.0.0",
                        "key": "MySecretKey123"
                      }
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "204": { "description": "Successfully configured" }
        }
      },
      "patch": {
        "summary": "Update keyring configuration",
        "description": "Merge update to keyring configuration",
        "operationId": "patch-crypto-keyring",
        "tags": ["keys"],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "Cisco-IOS-XE-crypto:keyring": [
                  {
                    "name": "VPN-KEYRING",
                    "local-address": {
                      "GigabitEthernet": "0/0/0"
                    }
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "204": { "description": "Successfully updated" }
        }
      },
      "delete": {
        "summary": "Delete keyring configuration",
        "description": "Remove keyring configuration",
        "operationId": "delete-crypto-keyring",
        "tags": ["keys"],
        "responses": {
          "204": { "description": "Successfully deleted" }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "basicAuth": {
        "type": "http",
        "scheme": "basic"
      }
    }
  },
  "security": [
    {
      "basicAuth": []
    }
  ],
  "tags": [
    {
      "name": "crypto-root",
      "description": "Root cryptography container operations"
    },
    {
      "name": "pki",
      "description": "Public Key Infrastructure"
    },
    {
      "name": "vpn",
      "description": "VPN protocols (IKEv2, IPsec)"
    },
    {
      "name": "keys",
      "description": "Keyrings and key management"
    }
  ]
}
