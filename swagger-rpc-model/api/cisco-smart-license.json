{
  "openapi": "3.0.0",
  "info": {
    "title": "cisco-smart-license - RPC Operations",
    "description": "Smart licensing configuration, RPC, notification and operational data.\n\n     Copyright (c) 2016-2020 by Cisco Systems, Inc.\n     All rights reserved.\n\n**Module:** `cisco-smart-license`\n**Version:** 2021-03-01\n**Operations:** 13",
    "version": "2021-03-01"
  },
  "servers": [
    {
      "url": "https://{device}/restconf",
      "variables": {
        "device": {
          "default": "router.example.com"
        }
      }
    }
  ],
  "paths": {
    "/operations/cisco_smart_license:register-id-token": {
      "post": {
        "summary": "Register with an ID token.\n       This will begin the registration process. Since the registration\n       process will take somewhere between seconds and hours you must get the\n       registration-success or registration-fail notifications\n       or check the registration status in smart-license:state\n       to know the status of the registration.",
        "description": "Register with an ID token.\n       This will begin the registration process. Since the registration\n       process will take somewhere between seconds and hours you must get the\n       registration-success or registration-fail notifications\n       or check the registration status in smart-license:state\n       to know the status of the registration.\n\n**Endpoint:** `POST /restconf/operations/cisco_smart_license:register-id-token`",
        "operationId": "register-id-token",
        "tags": [
          "cisco-smart-license"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cisco_smart_license:register-id-token": {
                    "type": "object",
                    "properties": {
                      "id-token": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 255,
                        "description": "The ID token used to register."
                      },
                      "force": {
                        "type": "string",
                        "description": "Force the registration if set.",
                        "default": "false"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "RPC executed successfully",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "return-code": {
                      "type": "string",
                      "description": "The return code.\n           If smart licensing is not enabled (status:enabled)\n           then the error will be error-enum:notenabled.\n           On success the return code will be\n           error-enum:registrationinprogress."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/operations/cisco_smart_license:de-register": {
      "post": {
        "summary": "De-register. This will immediately de-register the device.",
        "description": "De-register. This will immediately de-register the device.\n\n**Endpoint:** `POST /restconf/operations/cisco_smart_license:de-register`",
        "operationId": "de-register",
        "tags": [
          "cisco-smart-license"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cisco_smart_license:de-register": {
                    "type": "object",
                    "properties": {}
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "RPC executed successfully",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "return-code": {
                      "type": "string",
                      "description": "The return code for the de-register process."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/operations/cisco_smart_license:renew-id": {
      "post": {
        "summary": "Under normal operations smart licensing will automatically renew\n       the ID certificates used for regsitration. This command can\n       be used if he customer wants to initiate a manual\n       registration renewal.",
        "description": "Under normal operations smart licensing will automatically renew\n       the ID certificates used for regsitration. This command can\n       be used if he customer wants to initiate a manual\n       registration renewal.\n\n**Endpoint:** `POST /restconf/operations/cisco_smart_license:renew-id`",
        "operationId": "renew-id",
        "tags": [
          "cisco-smart-license"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cisco_smart_license:renew-id": {
                    "type": "object",
                    "properties": {}
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "RPC executed successfully",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "return-code": {
                      "type": "string",
                      "description": "The return code."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/operations/cisco_smart_license:renew-auth": {
      "post": {
        "summary": "Under normal operations smart licensing will automatically renew\n       the license authorization every 30 days. This command can\n       be used if he customer wants to iinitiate a manual\n       renewal.",
        "description": "Under normal operations smart licensing will automatically renew\n       the license authorization every 30 days. This command can\n       be used if he customer wants to iinitiate a manual\n       renewal.\n\n**Endpoint:** `POST /restconf/operations/cisco_smart_license:renew-auth`",
        "operationId": "renew-auth",
        "tags": [
          "cisco-smart-license"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cisco_smart_license:renew-auth": {
                    "type": "object",
                    "properties": {}
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "RPC executed successfully",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "return-code": {
                      "type": "string",
                      "description": "The return code."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/operations/cisco_smart_license:id-token-trust": {
      "post": {
        "summary": "Establish trust with the Cisco Smart Software Manager (CSSM)\n       using an ID token.\n       This will begin the trust establishment process. Since the\n       process will take somewhere between seconds and hours you\n       must get the trust-success or trust-fail notifications\n       or check the trust status in smart-license:state.",
        "description": "Establish trust with the Cisco Smart Software Manager (CSSM)\n       using an ID token.\n       This will begin the trust establishment process. Since the\n       process will take somewhere between seconds and hours you\n       must get the trust-success or trust-fail notifications\n       or check the trust status in smart-license:state.\n\n**Endpoint:** `POST /restconf/operations/cisco_smart_license:id-token-trust`",
        "operationId": "id-token-trust",
        "tags": [
          "cisco-smart-license"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cisco_smart_license:id-token-trust": {
                    "type": "object",
                    "properties": {
                      "id-token": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 255,
                        "description": "The ID token used to establish trust."
                      },
                      "all-ha": {
                        "type": "string",
                        "description": "If true, perform the operation for all devices\n           in an HA configuration. If false, then only establish\n           trust for the active device.",
                        "default": "false"
                      },
                      "force": {
                        "type": "string",
                        "description": "Force the trust establishment even if the product\n           instance has already establish trust with the CSSM.",
                        "default": "false"
                      }
                    },
                    "required": [
                      "id-token"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "RPC executed successfully",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "return-code": {
                      "type": "string",
                      "description": "The return code.\n           On success the return code will be\n           error-enum:registrationinprogress."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/operations/cisco_smart_license:rum-save-usage-all": {
      "post": {
        "summary": "Save all RUM reports in the file path specified.\n       Can be a local path or a network path.\n       This could create a file that is a few MB in size.",
        "description": "Save all RUM reports in the file path specified.\n       Can be a local path or a network path.\n       This could create a file that is a few MB in size.\n\n**Endpoint:** `POST /restconf/operations/cisco_smart_license:rum-save-usage-all`",
        "operationId": "rum-save-usage-all",
        "tags": [
          "cisco-smart-license"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cisco_smart_license:rum-save-usage-all": {
                    "type": "object",
                    "properties": {
                      "file-path": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 127,
                        "description": "The local or network file path to write the RUM\n           reports to."
                      }
                    },
                    "required": [
                      "file-path"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "RPC executed successfully",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "return-code": {
                      "type": "string",
                      "description": "The return code."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/operations/cisco_smart_license:rum-save-usage-unreported": {
      "post": {
        "summary": "Save unreported RUM reports in the file path specified.\n       Can be a local path or a network path",
        "description": "Save unreported RUM reports in the file path specified.\n       Can be a local path or a network path\n\n**Endpoint:** `POST /restconf/operations/cisco_smart_license:rum-save-usage-unreported`",
        "operationId": "rum-save-usage-unreported",
        "tags": [
          "cisco-smart-license"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cisco_smart_license:rum-save-usage-unreported": {
                    "type": "object",
                    "properties": {
                      "file-path": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 127,
                        "description": "The local or network file path to write the RUM reports to."
                      }
                    },
                    "required": [
                      "file-path"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "RPC executed successfully",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "return-code": {
                      "type": "string",
                      "description": "The return code."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/operations/cisco_smart_license:rum-save-usage-days": {
      "post": {
        "summary": "Save all RUM reports in the file path specified.\n       Can be a local path or a network path",
        "description": "Save all RUM reports in the file path specified.\n       Can be a local path or a network path\n\n**Endpoint:** `POST /restconf/operations/cisco_smart_license:rum-save-usage-days`",
        "operationId": "rum-save-usage-days",
        "tags": [
          "cisco-smart-license"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cisco_smart_license:rum-save-usage-days": {
                    "type": "object",
                    "properties": {
                      "file-path": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 127,
                        "description": "The local or network file path to write the RUM reports to."
                      },
                      "days": {
                        "type": "string",
                        "description": "Save RUM reports that include measurements in the\n           specified number of days"
                      }
                    },
                    "required": [
                      "file-path"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "RPC executed successfully",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "return-code": {
                      "type": "string",
                      "description": "The return code."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/operations/cisco_smart_license:trust-request-save": {
      "post": {
        "summary": "Save the trust request in the file path specified.\n       Can be a local path or a network path",
        "description": "Save the trust request in the file path specified.\n       Can be a local path or a network path\n\n**Endpoint:** `POST /restconf/operations/cisco_smart_license:trust-request-save`",
        "operationId": "trust-request-save",
        "tags": [
          "cisco-smart-license"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cisco_smart_license:trust-request-save": {
                    "type": "object",
                    "properties": {
                      "file-path": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 127,
                        "description": "The local or network file path to write the trust request to."
                      }
                    },
                    "required": [
                      "file-path"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "RPC executed successfully",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "return-code": {
                      "type": "string",
                      "description": "The return code."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/operations/cisco_smart_license:authorization-request-online": {
      "post": {
        "summary": "Queues the request to fetch a node-locked authorization code\n       from the CSSM or CSLU. If the Product is not connected to the\n       CSLU or CSSM this command will fail. Command is non-blocking and\n       will return an immediate failure or an OperationInProgress status.\n       Later one of these notifications will be sent to indicate the\n       status of the request:\n       authorization-code-installed, authorization-code-request-failed ",
        "description": "Queues the request to fetch a node-locked authorization code\n       from the CSSM or CSLU. If the Product is not connected to the\n       CSLU or CSSM this command will fail. Command is non-blocking and\n       will return an immediate failure or an OperationInProgress status.\n       Later one of these notifications will be sent to indicate the\n       status of the request:\n       authorization-code-installed, authorization-code-request-failed \n\n**Endpoint:** `POST /restconf/operations/cisco_smart_license:authorization-request-online`",
        "operationId": "authorization-request-online",
        "tags": [
          "cisco-smart-license"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cisco_smart_license:authorization-request-online": {
                    "type": "object",
                    "properties": {
                      "feature-name": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 255,
                        "description": "The feature name to get the authorization code for.\n           The smart agent will look this up in it's mapping table\n           and get the proper entitlement tag for it."
                      },
                      "local": {
                        "type": "string",
                        "description": "Applies to an HA configuration. If true, the authroization\n           request will only be for the active device. If False, the\n           authorization request will apply to all devices in the\n           HA configuration.",
                        "default": "true"
                      },
                      "add": {
                        "type": "string",
                        "description": "Applies to an HA configuration. If true, the authroization\n           request will add the license to the existing authorization code\n           If false, the authorization request will replace the existing\n           authorization code with a new authorization code that\n           contains only a license for the feature requested.",
                        "default": "true"
                      }
                    },
                    "required": [
                      "feature-name"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "RPC executed successfully",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "return-code": {
                      "type": "string",
                      "description": "The return code. Under normal operations this will return\n           OperationInProgress."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/operations/cisco_smart_license:authorization-code-return-online": {
      "post": {
        "summary": "Returns a currently installed authorization code.\n       If an entitlement tag is in use and was authorized\n       by the current authorization code then the return will fail.\n       If the Product is not connected to the CSLU or CSSM this command will fail.\n       The authorization code will first be removed from the product.\n       Next it will make one attempt to send a message to the CSLU\n       or CSSM to return the license to the virtural account.",
        "description": "Returns a currently installed authorization code.\n       If an entitlement tag is in use and was authorized\n       by the current authorization code then the return will fail.\n       If the Product is not connected to the CSLU or CSSM this command will fail.\n       The authorization code will first be removed from the product.\n       Next it will make one attempt to send a message to the CSLU\n       or CSSM to return the license to the virtural account.\n\n**Endpoint:** `POST /restconf/operations/cisco_smart_license:authorization-code-return-online`",
        "operationId": "authorization-code-return-online",
        "tags": [
          "cisco-smart-license"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cisco_smart_license:authorization-code-return-online": {
                    "type": "object",
                    "properties": {
                      "local": {
                        "type": "string",
                        "description": "Applies to an HA configuration. If true, the authroization\n           return will only be for the active device.\n           If false, the authorization return will apply to all devices in the\n           HA configuration.",
                        "default": "true"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "RPC executed successfully",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "return-code": {
                      "type": "string",
                      "description": "The return code. Under normal operations this will return OperationInProgress"
                    },
                    "authorization-return-string": {
                      "type": "string",
                      "description": "The authorization return string that was sent to the CSSM in the message."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/operations/cisco_smart_license:authorization-code-return-offline": {
      "post": {
        "summary": "Returns a currently installed authorization code.\n       If an entitlement tag is in use and was authorized\n       by the current authorization code then the return will fail.\n       The authorization code will first be removed from the product.\n       Next it write the return code to the file specified.",
        "description": "Returns a currently installed authorization code.\n       If an entitlement tag is in use and was authorized\n       by the current authorization code then the return will fail.\n       The authorization code will first be removed from the product.\n       Next it write the return code to the file specified.\n\n**Endpoint:** `POST /restconf/operations/cisco_smart_license:authorization-code-return-offline`",
        "operationId": "authorization-code-return-offline",
        "tags": [
          "cisco-smart-license"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cisco_smart_license:authorization-code-return-offline": {
                    "type": "object",
                    "properties": {
                      "local": {
                        "type": "string",
                        "description": "Applies to an HA configuration. If true, the authroization\n           return will only be for the active device.\n           If false, the authorization return will apply to all\n           devices in the HA configuration.",
                        "default": "true"
                      },
                      "file-path": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 127,
                        "description": "The local or network file path to write the return code to.\n           This is optional. If included the authorization return string\n           will be written to the named file. In either case the\n           authorization return string will be returned in the output"
                      }
                    },
                    "required": [
                      "file-path"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "RPC executed successfully",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "return-code": {
                      "type": "string",
                      "description": "The return code. Under normal operations this will\n           return OperationInProgress"
                    },
                    "authorization-return-string": {
                      "type": "string",
                      "description": "The authorization return string."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/operations/cisco_smart_license:import-file": {
      "post": {
        "summary": "Import any of the various XML codes supported by smart\n       Licensing from a file. This includes; authorization codes, policies,\n       trust codes, RUM ACK response, SLR authorization codes, conversion ACK.",
        "description": "Import any of the various XML codes supported by smart\n       Licensing from a file. This includes; authorization codes, policies,\n       trust codes, RUM ACK response, SLR authorization codes, conversion ACK.\n\n**Endpoint:** `POST /restconf/operations/cisco_smart_license:import-file`",
        "operationId": "import-file",
        "tags": [
          "cisco-smart-license"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cisco_smart_license:import-file": {
                    "type": "object",
                    "properties": {
                      "file-path": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 127,
                        "description": "The local or network file path to read from"
                      }
                    },
                    "required": [
                      "file-path"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "RPC executed successfully",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "return-code": {
                      "type": "string",
                      "description": "The return code."
                    },
                    "confirmation-codes": {
                      "type": "string",
                      "description": "If the import command installed authorization codes and\n           that install overwrote older authorization codes this list\n           will contain the confirmation codes that must be returned\n           to the Cisco Smart Software Manager (CSSM)."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "basicAuth": {
        "type": "http",
        "scheme": "basic"
      }
    }
  },
  "security": [
    {
      "basicAuth": []
    }
  ]
}