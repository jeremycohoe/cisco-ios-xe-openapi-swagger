{
  "openapi": "3.0.0",
  "info": {
    "title": "Cisco-IOS-XE-nwpi-rpc - RPC Operations",
    "description": "This module contains a collection of YANG definitions for\n     network wide path insight RPC.\n     Copyright (c) 2020-2025 by Cisco Systems, Inc.\n     All rights reserved.\n\n**Module:** `Cisco-IOS-XE-nwpi-rpc`\n**Version:** 2025-07-01\n**Operations:** 3\n\n**YANG Model:** [Cisco-IOS-XE-nwpi-rpc - RPC Operations.yang](https://github.com/YangModels/yang/blob/main/vendor/cisco/xe/17181/Cisco-IOS-XE-nwpi-rpc - RPC Operations.yang)",
    "version": "2025-07-01"
  },
  "servers": [
    {
      "url": "https://{device}/restconf",
      "variables": {
        "device": {
          "default": "router.example.com"
        }
      }
    }
  ],
  "paths": {
    "/operations/nwpi_rpc:device-nwpi": {
      "post": {
        "summary": "Device network wide path insight RPC",
        "description": "Device network wide path insight RPC\n\n**Endpoint:** `POST /restconf/operations/nwpi_rpc:device-nwpi`",
        "operationId": "device-nwpi",
        "tags": [
          "Cisco-IOS-XE-nwpi-rpc"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nwpi_rpc:device-nwpi": {
                    "type": "object",
                    "properties": {
                      "trace-id": {
                        "type": "integer",
                        "minimum": 1,
                        "maximum": 65535,
                        "description": "Global unique trace identifier"
                      },
                      "action": {
                        "type": "string",
                        "description": "Trace start/stop/clean actions"
                      },
                      "target": {
                        "type": "string",
                        "description": "Target types"
                      },
                      "vpn-id": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 65531,
                        "description": "SD-WAN VPN identifier"
                      },
                      "vrf-name": {
                        "type": "string",
                        "description": "VRF name"
                      },
                      "src-ip": {
                        "type": "string",
                        "description": "Source IP to filter"
                      },
                      "dst-ip": {
                        "type": "string",
                        "description": "Destination IP to filter"
                      },
                      "app": {
                        "type": "string",
                        "description": "Application to filter"
                      },
                      "src-if": {
                        "type": "string",
                        "description": "Source interface to filter"
                      },
                      "protocol": {
                        "type": "string",
                        "description": "IP protocol field in IP header to filter"
                      },
                      "src-port": {
                        "type": "string",
                        "description": "Source port to filter"
                      },
                      "dst-port": {
                        "type": "string",
                        "description": "Destination port to filter"
                      },
                      "dscp-is-valid": {
                        "type": "string",
                        "description": "Indicate DSCP filter was configured"
                      },
                      "dscp": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 63,
                        "description": "DSCP value to filter"
                      },
                      "duration": {
                        "type": "integer",
                        "minimum": 1,
                        "maximum": 65535,
                        "description": "Option to change default trace duration of 60 minutes.\n         The duration value is in minutes and in range between\n         1 and 65535 minutes. A trace will auto stop if specified\n         duration expired. If duration not specified and user didn't\n         issue on-demand stop action, the trace will auto stop in\n         60 minutes"
                      },
                      "src-pfx": {
                        "type": "string",
                        "description": "Source prefix to filter"
                      },
                      "src-pfx-len": {
                        "type": "string",
                        "description": "Source prefix length to filter"
                      },
                      "dst-pfx": {
                        "type": "string",
                        "description": "Destination prefix to filter"
                      },
                      "dst-pfx-len": {
                        "type": "string",
                        "description": "Destination prefix length to filter"
                      },
                      "app-grp": {
                        "type": "string",
                        "description": "Application grouped by vendors to filter"
                      },
                      "domain-mon": {
                        "type": "string",
                        "description": "Enable domain monitor"
                      },
                      "art-vis": {
                        "type": "string",
                        "description": "Enable ART visibility"
                      },
                      "app-vis": {
                        "type": "string",
                        "description": "Enable application visibility"
                      },
                      "dia-vis": {
                        "type": "string",
                        "description": "Enable direct internet access visibility"
                      },
                      "hub-wan-vis": {
                        "type": "string",
                        "description": "Enable HUB WAN ingress visibility"
                      },
                      "sampling": {
                        "type": "string",
                        "description": "Enable trace flow sampling"
                      },
                      "spl-intvl": {
                        "type": "integer",
                        "minimum": 1,
                        "maximum": 86400000,
                        "description": "Option to change default trace flow sample interval of\n         60000 milliseconds. The sample interval value is in milliseconds\n         and in range between 1 and 86400000 milliseconds. Only one flow\n         will be traced within a given interval"
                      },
                      "qos-mon": {
                        "type": "string",
                        "description": "Enable QoS monitor"
                      },
                      "model": {
                        "type": "string",
                        "description": "Trace model, different trace models have different behaviors\n         and separate trace identifier space. Combination of trace model\n         and trace identifier can uniquely identify a trace."
                      },
                      "agg-client-prefix": {
                        "type": "string",
                        "description": "Enable client prefix as a grouping factor in flexible aggregation"
                      },
                      "agg-svr-prefix": {
                        "type": "string",
                        "description": "Enable server prefix as a grouping factor in flexible aggregation"
                      },
                      "agg-src-sgt": {
                        "type": "string",
                        "description": "Enable source SGT as a grouping factor in flexible aggregation"
                      },
                      "agg-dst-sgt": {
                        "type": "string",
                        "description": "Enable destination SGT as a grouping factor in flexible aggregation"
                      },
                      "username": {
                        "type": "string",
                        "description": "Username classified by Cisco identity service engine to filter traffic"
                      },
                      "user-grp": {
                        "type": "string",
                        "description": "User group classified by Cisco identity service engine to filter traffic"
                      },
                      "src-sgt": {
                        "type": "string",
                        "description": "Source security group tag to filter traffic"
                      },
                      "dst-sgt": {
                        "type": "string",
                        "description": "Destination security group tag to filter"
                      },
                      "flow-mon": {
                        "type": "string",
                        "description": "Enable flow monitor to collect statistics of per application TCP and UDP flow count,\n         flow setup rate, and average flow living time."
                      },
                      "pol-mon": {
                        "type": "string",
                        "description": "Enable SD-WAN policy monitor to collect statistics of per application\n         policy sequence match rate."
                      },
                      "full-vis": {
                        "type": "string",
                        "description": "Enable full traffic visibility to process flexible aggregation on all traffic flows,\n         flexible aggregation only process sampled flows when this option disabled."
                      },
                      "agg-user-name": {
                        "type": "string",
                        "description": "Enable username as a grouping factor in flexible aggregation"
                      },
                      "te-mon": {
                        "type": "string",
                        "description": "Enable ThousandEyes agent monitor to collect statistics of ThousandEyes synthetic\n         probes."
                      },
                      "enable-cmd-header": {
                        "type": "string",
                        "description": "Enable CMD header in SD-Routing"
                      },
                      "qos-congest-dur": {
                        "type": "integer",
                        "minimum": 1,
                        "maximum": 65535,
                        "description": "Duration of QoS congestion to raise an alarm"
                      },
                      "ar-drop-rate": {
                        "type": "integer",
                        "minimum": 1,
                        "maximum": 100,
                        "description": "Anti-replay drop rate on SD-WAN session"
                      },
                      "wan-loss-rate": {
                        "type": "integer",
                        "minimum": 1,
                        "maximum": 100,
                        "description": "WAN loss rate on SD-WAN session"
                      },
                      "vpn-list": {
                        "type": "array",
                        "items": {
                          "type": "string",
                          "description": "SD-WAN VPN list"
                        }
                      },
                      "trnspt-if-name": {
                        "type": "array",
                        "items": {
                          "type": "string",
                          "description": "Transport intf list"
                        }
                      },
                      "te-agent": {
                        "type": "object",
                        "description": "ThousandEyes agent IP addresses to filter traffic"
                      }
                    },
                    "required": [
                      "trace-id",
                      "action",
                      "target",
                      "vpn-id",
                      "vrf-name",
                      "dscp"
                    ]
                  }
                }
              },
              "example": {
                "nwpi_rpc:device-nwpi": {
                  "trace-id": 10,
                  "action": "example-string",
                  "target": "example-string",
                  "vpn-id": 10,
                  "vrf-name": "Mgmt-vrf",
                  "src-ip": "example-string",
                  "dst-ip": "example-string",
                  "app": "example-string",
                  "src-if": "GigabitEthernet1/0/1",
                  "protocol": "example-string",
                  "src-port": "example-string",
                  "dst-port": "example-string",
                  "dscp-is-valid": "example-string",
                  "dscp": 10,
                  "duration": 10,
                  "src-pfx": "192.168.1.0/24",
                  "src-pfx-len": "192.168.1.0/24",
                  "dst-pfx": "192.168.1.0/24",
                  "dst-pfx-len": "192.168.1.0/24",
                  "app-grp": "example-string",
                  "domain-mon": "example-string",
                  "art-vis": "example-string",
                  "app-vis": "example-string",
                  "dia-vis": "example-string",
                  "hub-wan-vis": "example-string",
                  "sampling": "example-string",
                  "spl-intvl": 10,
                  "qos-mon": "example-string",
                  "model": "example-string",
                  "agg-client-prefix": "192.168.1.0/24",
                  "agg-svr-prefix": "192.168.1.0/24",
                  "agg-src-sgt": "example-string",
                  "agg-dst-sgt": "example-string",
                  "username": "admin",
                  "user-grp": "admin",
                  "src-sgt": "example-string",
                  "dst-sgt": "example-string",
                  "flow-mon": "example-string",
                  "pol-mon": "example-string",
                  "full-vis": "example-string",
                  "agg-user-name": "admin",
                  "te-mon": "example-string",
                  "enable-cmd-header": "example-string",
                  "qos-congest-dur": 10,
                  "ar-drop-rate": 10,
                  "wan-loss-rate": 10,
                  "vpn-list": [
                    "example-string"
                  ],
                  "trnspt-if-name": [
                    "example-string"
                  ],
                  "te-agent": {}
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "RPC executed successfully",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object"
                },
                "example": {}
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/operations/nwpi_rpc:device-pcap-replay": {
      "post": {
        "summary": "Device PCAP replay RPC for starting/stopping PCAP replay",
        "description": "Device PCAP replay RPC for starting/stopping PCAP replay\n\n**Endpoint:** `POST /restconf/operations/nwpi_rpc:device-pcap-replay`",
        "operationId": "device-pcap-replay",
        "tags": [
          "Cisco-IOS-XE-nwpi-rpc"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nwpi_rpc:device-pcap-replay": {
                    "type": "object"
                  }
                }
              },
              "example": {
                "nwpi_rpc:device-pcap-replay": {}
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "RPC executed successfully",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object"
                },
                "example": {}
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/operations/nwpi_rpc:device-nwpi-global": {
      "post": {
        "summary": "Device network wide path insight global control RPC",
        "description": "Device network wide path insight global control RPC\n\n**Endpoint:** `POST /restconf/operations/nwpi_rpc:device-nwpi-global`",
        "operationId": "device-nwpi-global",
        "tags": [
          "Cisco-IOS-XE-nwpi-rpc"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "type": "object",
                "properties": {
                  "nwpi_rpc:device-nwpi-global": {
                    "type": "object",
                    "properties": {
                      "control": {
                        "type": "string",
                        "description": "Global enable/disable control"
                      }
                    },
                    "required": [
                      "control"
                    ]
                  }
                }
              },
              "example": {
                "nwpi_rpc:device-nwpi-global": {
                  "control": "example-string"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "RPC executed successfully",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "type": "object"
                },
                "example": {}
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "basicAuth": {
        "type": "http",
        "scheme": "basic"
      }
    }
  },
  "security": [
    {
      "basicAuth": []
    }
  ]
}