{
  "openapi": "3.0.0",
  "info": {
    "title": "Other - cisco-evpn-service",
    "version": "17.18.1",
    "description": "This module contains a collection of YANG definitions for\n     managing L2 EVPN services.\n\n**Authentication**: HTTP Basic Authentication\n\n**Protocol**: RESTCONF (RFC 8040)\n\n**Base Path**: https://{device}/restconf/data\n\n**YANG Model:** [cisco-evpn-service.yang](https://github.com/YangModels/yang/blob/main/vendor/cisco/xe/17181/cisco-evpn-service.yang)\n\n**ðŸ“Š YANG Tree:** [View cisco-evpn-service structure](https://jeremycohoe.github.io/cisco-ios-xe-openapi-swagger/yang-trees/cisco-evpn-service.html)"
  },
  "servers": [
    {
      "url": "https://{device}/restconf",
      "variables": {
        "device": {
          "default": "devnetsandboxiosxec9k.cisco.com",
          "description": "Device IP or hostname"
        }
      }
    }
  ],
  "paths": {
    "/data/cisco-evpn-service:evpn-service": {
      "get": {
        "summary": "Get evpn-service",
        "description": "Retrieve EVPN service configuration and state",
        "operationId": "getEvpnService",
        "tags": ["cisco-evpn-service"],
        "parameters": [
          {
            "name": "depth",
            "in": "query",
            "description": "Query depth - unbounded or specific integer",
            "schema": {
              "type": "string",
              "default": "unbounded"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "$ref": "#/components/schemas/EvpnService"
                },
                "example": {
                  "cisco-evpn-service:evpn-service": {
                    "evpn-config": {
                      "global-configs": {
                        "peer-config": {
                          "bgp": [
                            {
                              "bgp-local-as": 65000,
                              "router-id": "10.1.1.1",
                              "enable-evpn": true,
                              "peers": {
                                "peer": [
                                  {
                                    "loopback-id": "10.1.1.2",
                                    "loopback-source": 0,
                                    "edge-node": true
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        "loopback-id": 0,
                        "loopback-ip": "10.1.1.1"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "404": {
            "description": "Resource not found"
          }
        }
      },
      "put": {
        "summary": "Replace evpn-service",
        "description": "Replace entire EVPN service configuration",
        "operationId": "replaceEvpnService",
        "tags": ["cisco-evpn-service"],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "$ref": "#/components/schemas/EvpnService"
              },
              "example": {
                "cisco-evpn-service:evpn-service": {
                  "evpn-config": {
                    "global-configs": {
                      "peer-config": {
                        "bgp": [
                          {
                            "bgp-local-as": 65000,
                            "router-id": "10.1.1.1",
                            "enable-evpn": true
                          }
                        ]
                      },
                      "loopback-id": 0,
                      "loopback-ip": "10.1.1.1"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successfully replaced"
          },
          "400": {
            "description": "Bad request - validation error"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          }
        }
      },
      "patch": {
        "summary": "Update evpn-service",
        "description": "Partially update EVPN service configuration",
        "operationId": "patchEvpnService",
        "tags": ["cisco-evpn-service"],
        "requestBody": {
          "required": true,
          "content": {
            "application/yang-data+json": {
              "schema": {
                "$ref": "#/components/schemas/EvpnService"
              },
              "example": {
                "cisco-evpn-service:evpn-service": {
                  "evpn-config": {
                    "global-configs": {
                      "loopback-id": 1
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successfully updated"
          },
          "400": {
            "description": "Bad request - validation error"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          }
        }
      },
      "delete": {
        "summary": "Delete evpn-service",
        "description": "Remove EVPN service configuration",
        "operationId": "deleteEvpnService",
        "tags": ["cisco-evpn-service"],
        "responses": {
          "204": {
            "description": "Successfully deleted"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "404": {
            "description": "Resource not found"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "EvpnService": {
        "type": "object",
        "properties": {
          "cisco-evpn-service:evpn-service": {
            "type": "object",
            "description": "EVPN service configuration container",
            "properties": {
              "evpn-config": {
                "type": "object",
                "properties": {
                  "global-configs": {
                    "type": "object",
                    "properties": {
                      "peer-config": {
                        "type": "object",
                        "description": "BGP peer configuration for EVPN"
                      },
                      "loopback-id": {
                        "type": "integer",
                        "format": "uint32",
                        "description": "Loopback interface ID"
                      },
                      "loopback-ip": {
                        "type": "string",
                        "format": "ipv4",
                        "description": "Loopback IP address"
                      },
                      "dot1x-interfaces": {
                        "type": "object",
                        "description": "802.1X interface configurations"
                      },
                      "acl-configurations": {
                        "type": "object",
                        "description": "ACL configurations for EVPN"
                      },
                      "dns-configuration": {
                        "type": "object",
                        "description": "DNS configuration"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "securitySchemes": {
      "BasicAuth": {
        "type": "http",
        "scheme": "basic"
      }
    }
  },
  "security": [
    {
      "BasicAuth": []
    }
  ],
  "tags": [
    {
      "name": "cisco-evpn-service",
      "description": "Operations for EVPN service configuration"
    }
  ]
}
